<div class="ui huge fluid labeled action input">
	<div class="ui label">
		Location
	</div>
	<input type="text" placeholder="Search..." ng-model="query">
	<button class="ui primary button" style="font-size: 1em;" ng-click="requery()">Search</button>
</div>
<div class="ui divider" style="clear: both;"></div>
<div class="ui grid">
	<div class="six wide column">
		<div class="ui segment">
			<h3 class="ui header">
				Water Quality Health Violations
				<div class="sub header">{{affectedFacilities.length}} out of {{facilities.length}} facilities have violations</div>
			</h3>
			<p>Below are drinking water quality violations for water treatment facilities in this area.</p>
			<h4 class="ui center aligned icon header" ng-if="!waterLoading && violations.length == 0">
				<i class="circular check icon"></i>
				No Violations Found
			</h4>
			<div class="ui link divided list" ng-if="violations.length != 0">
				<a class="item" ng-repeat="category in waterViolationCodes | filter: hasViolations" ng-click="selectViolationCategory(category)">
					<i class="warning sign icon"></i>
					<div class="content">
						<div class="header">{{category.label}}</div>
						<div class="description">{{getViolations(category).length}} violations</div>
					</div>
				</a>
			</div>
			<div class="ui active inverted dimmer" ng-if="waterLoading">
				<div class="ui loader"></div>
			</div>
		</div>
	</div>
	<div class="six wide column">
		<div class="ui fluid card">
			<div class="content">
				<div class="header">Today's UV Index</div>
				<div class="ui icon message {{uvData.color}}" ng-if="!uvLoading && uvData">
					<i class="{{uvData.icon}} icon"></i>
					<div class="content">
						<div class="header">{{uvData.rating}} - {{uvData.header}}</div>
						<p>{{uvData.text}}</p>
					</div>
				</div>
				<div class="description" ng-if="!uvLoading && !uvData">
					No data was available for your query
				</div>
				<div class="ui active inverted dimmer" ng-if="uvLoading">
					<div class="ui loader"></div>
				</div>
			</div>
		</div>
	</div>
	<div class="four wide column"></div>
</div>
<div id="violation-modal" class="ui modal">
	<i class="close icon"></i>
	<div class="header">
		<i class="circular settings icon"></i>
		{{currentCategory.label}} - {{currentViolations.length}}
	</div>
	<div class="content">
		<table class="ui celled striped table">
			<thead>
				<tr>
					<th>Facility Name</th>
					<th>Contaminant Name</th>
					<th>Compliance Begin Date</th>
					<th>Compliance Achieved Date</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="violation in currentViolations">
					<td>{{violation.facility.PWS_NAME}}</td>
					<td></td>
					<td>{{violation.COMPL_PER_BEGIN_DATE}}</td>
					<td>{{violation.COMPL_PER_END_DATE}}</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>